# ğŸ“š 6ì¼ì°¨-15ì¼ì°¨ ìƒì„¸ í•™ìŠµ ê³„íš

> **ì°¸ê³ **: 1-5ì¼ì°¨ êµë³´ì¬ëŠ” ì™„ì „í•œ í˜•íƒœë¡œ ì œê³µë˜ë©°, 6-15ì¼ì°¨ëŠ” í•™ìŠµ ê³„íšê³¼ í•µì‹¬ ë‚´ìš© ìš”ì•½ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.

## ğŸ› ï¸ 6ì¼ì°¨: ë¹Œë“œ ì‹œìŠ¤í…œê³¼ Webpack

### í•™ìŠµ ëª©í‘œ
- Webpack ì„¤ì • íŒŒì¼ êµ¬ì¡° ì´í•´
- ê°œë°œ/í”„ë¡œë•ì…˜ í™˜ê²½ ì°¨ì´ì  íŒŒì•…
- Hot Module Replacement (HMR) ë™ì‘ ì›ë¦¬
- ë²ˆë“¤ ìµœì í™” ê¸°ë²• í•™ìŠµ

### ì£¼ìš” í•™ìŠµ ë‚´ìš©

#### webpack.main.config.js ë¶„ì„
```javascript
module.exports = {
  entry: {
    main: './src/main/main.ts',
    preload: './src/main/preload.ts'
  },
  target: 'electron-main',
  externals: {
    'better-sqlite3': 'commonjs better-sqlite3',
    'playwright': 'commonjs playwright'
  }
};
```

#### webpack.renderer.config.js ë¶„ì„
```javascript
module.exports = {
  entry: './src/renderer/index.tsx',
  target: 'electron-renderer',
  devServer: {
    port: 3000,
    hot: true
  }
};
```

### ì‹¤ìŠµ ë‚´ìš©
- ê°œë°œ/í”„ë¡œë•ì…˜ ë¹Œë“œ ë¹„êµ
- HMR ë™ì‘ í™•ì¸
- ë²ˆë“¤ í¬ê¸° ë¶„ì„
- ìµœì í™” ì„¤ì • ì‹¤í—˜

---

## ğŸ”§ 7ì¼ì°¨: 1ì£¼ì°¨ ì¢…í•© ì‹¤ìŠµ

### í•™ìŠµ ëª©í‘œ
- 1ì£¼ì°¨ í•™ìŠµ ë‚´ìš© í†µí•© ì •ë¦¬
- ë¯¸ë‹ˆ í”„ë¡œì íŠ¸ë¥¼ í†µí•œ ì‹¤ìŠµ
- ë¬¸ì œ í•´ê²° ëŠ¥ë ¥ ë°°ì–‘

### ë¯¸ë‹ˆ í”„ë¡œì íŠ¸: "Simple Note App"
**ìš”êµ¬ì‚¬í•­:**
- Main/Renderer í”„ë¡œì„¸ìŠ¤ ë¶„ë¦¬
- ì•ˆì „í•œ IPC í†µì‹ 
- íŒŒì¼ ì €ì¥/ë¶ˆëŸ¬ì˜¤ê¸°
- ê¸°ë³¸ì ì¸ ë³´ì•ˆ ê³ ë ¤

### ì£¼ìš” êµ¬í˜„ ìš”ì†Œ
- BrowserWindow ìƒì„±
- Preload script êµ¬í˜„
- Context Bridge API ì„¤ê³„
- React ì»´í¬ë„ŒíŠ¸ ê°œë°œ
- íŒŒì¼ ì‹œìŠ¤í…œ ì ‘ê·¼

---

## ğŸ—ï¸ 8ì¼ì°¨: ì„œë¹„ìŠ¤ ì§€í–¥ ì•„í‚¤í…ì²˜

### í•™ìŠµ ëª©í‘œ
- Service Layer íŒ¨í„´ ì´í•´
- Dependency Injection êµ¬í˜„
- ì„œë¹„ìŠ¤ ê°„ í†µì‹  ë°©ë²•
- í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡° ì„¤ê³„

### ë¶„ì„ ëŒ€ìƒ ì„œë¹„ìŠ¤
#### DatabaseManager.ts
```typescript
class DatabaseManager {
  private db: Database;
  
  async initialize(): Promise<void> {
    // ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™” ë¡œì§
  }
  
  async getStreamers(): Promise<StreamerData[]> {
    // ìŠ¤íŠ¸ë¦¬ë¨¸ ì¡°íšŒ ë¡œì§
  }
}
```

#### MonitoringService.ts
```typescript
class MonitoringService {
  constructor(
    private databaseManager: DatabaseManager,
    private notificationService: NotificationService
  ) {}
  
  async start(): Promise<void> {
    // ëª¨ë‹ˆí„°ë§ ì‹œì‘ ë¡œì§
  }
}
```

### ì„¤ê³„ íŒ¨í„´ í•™ìŠµ
- **Single Responsibility**: ê° ì„œë¹„ìŠ¤ì˜ ë‹¨ì¼ ì±…ì„
- **Dependency Injection**: ì˜ì¡´ì„± ì£¼ì… íŒ¨í„´
- **Observer Pattern**: ì´ë²¤íŠ¸ ê¸°ë°˜ í†µì‹ 

---

## ğŸ’¾ 9ì¼ì°¨: ë°ì´í„°ë² ì´ìŠ¤ í†µí•©

### í•™ìŠµ ëª©í‘œ
- SQLiteì™€ better-sqlite3 í™œìš©
- ë°ì´í„° ëª¨ë¸ë§ê³¼ ìŠ¤í‚¤ë§ˆ ì„¤ê³„
- íŠ¸ëœì­ì…˜ê³¼ ì„±ëŠ¥ ìµœì í™”
- ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ëµ

### ì‹¤ìŠµ ë‚´ìš©

#### ìŠ¤í‚¤ë§ˆ ë¶„ì„
```sql
CREATE TABLE streamers (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name TEXT NOT NULL,
  chzzkId TEXT,
  profileImageUrl TEXT,
  isActive BOOLEAN DEFAULT 1,
  createdAt DATETIME DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE notifications (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  streamerId INTEGER,
  type TEXT NOT NULL,
  title TEXT NOT NULL,
  message TEXT,
  isRead BOOLEAN DEFAULT 0,
  createdAt DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (streamerId) REFERENCES streamers(id)
);
```

#### ë°ì´í„° ì ‘ê·¼ íŒ¨í„´
```typescript
// Repository íŒ¨í„´ êµ¬í˜„
class StreamerRepository {
  constructor(private db: Database) {}
  
  async findById(id: number): Promise<StreamerData | null> {
    const stmt = this.db.prepare('SELECT * FROM streamers WHERE id = ?');
    return stmt.get(id) as StreamerData || null;
  }
  
  async findActive(): Promise<StreamerData[]> {
    const stmt = this.db.prepare('SELECT * FROM streamers WHERE isActive = 1');
    return stmt.all() as StreamerData[];
  }
}
```

---

## ğŸ”” 10ì¼ì°¨: ì‹œìŠ¤í…œ ì•Œë¦¼ê³¼ íŠ¸ë ˆì´

### í•™ìŠµ ëª©í‘œ
- OS ë„¤ì´í‹°ë¸Œ ì•Œë¦¼ ì‹œìŠ¤í…œ í™œìš©
- ì‹œìŠ¤í…œ íŠ¸ë ˆì´ êµ¬í˜„
- ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰ê³¼ ìƒíƒœ ê´€ë¦¬
- ì‚¬ìš©ì ì¸í„°ë™ì…˜ ì²˜ë¦¬

### êµ¬í˜„ ë¶„ì„

#### NotificationService.ts
```typescript
class NotificationService {
  async sendNotification(notification: NotificationData): Promise<void> {
    // ì¤‘ë³µ ë°©ì§€ ë¡œì§
    if (await this.isDuplicate(notification)) {
      return;
    }
    
    // ì‹œìŠ¤í…œ ì•Œë¦¼ ë°œì†¡
    notifier.notify({
      title: notification.title,
      message: notification.message,
      icon: this.getIcon(notification.type)
    });
    
    // ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥
    await this.saveToDatabase(notification);
  }
}
```

#### TrayService.ts
```typescript
class TrayService {
  createTray(): Tray {
    const tray = new Tray(iconPath);
    
    tray.setContextMenu(Menu.buildFromTemplate([
      { label: 'ì—´ê¸°', click: () => this.app.showMainWindow() },
      { label: 'ì¢…ë£Œ', click: () => this.app.quit() }
    ]));
    
    return tray;
  }
}
```

---

## ğŸŒ 11ì¼ì°¨: ì™¸ë¶€ APIì™€ ì›¹ ìŠ¤í¬ë˜í•‘

### í•™ìŠµ ëª©í‘œ
- Playwrightë¥¼ í™œìš©í•œ ì›¹ ìŠ¤í¬ë˜í•‘
- ì‹¤ì‹œê°„ ë°ì´í„° ìˆ˜ì§‘
- ì—ëŸ¬ ì²˜ë¦¬ì™€ ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜
- ë ˆì´íŠ¸ ë¦¬ë¯¸íŒ…ê³¼ ì˜ˆì˜ë°”ë¥¸ í¬ë¡¤ë§

### í•µì‹¬ êµ¬í˜„

#### ChzzkMonitor.ts
```typescript
class ChzzkMonitor {
  private browser: Browser;
  
  async checkLiveStatus(chzzkId: string): Promise<boolean> {
    const page = await this.browser.newPage();
    
    try {
      await page.goto(`https://chzzk.naver.com/live/${chzzkId}`);
      
      // ë¼ì´ë¸Œ ìƒíƒœ í™•ì¸ ë¡œì§
      const isLive = await page.evaluate(() => {
        return document.querySelector('.live_status')?.textContent === 'LIVE';
      });
      
      return isLive;
    } catch (error) {
      console.error('Live status check failed:', error);
      return false;
    } finally {
      await page.close();
    }
  }
}
```

#### ëª¨ë‹ˆí„°ë§ íŒ¨í„´
- **í´ë§ vs ì›¹ì†Œì¼“**: ìƒí™©ë³„ ì ì ˆí•œ ë°©ë²• ì„ íƒ
- **ë°±ì˜¤í”„ ì „ëµ**: ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ ê°„ê²© ì¡°ì •
- **ì„œí‚· ë¸Œë ˆì´ì»¤**: ì—°ì† ì‹¤íŒ¨ ì‹œ ì¼ì‹œ ì¤‘ë‹¨

---

## âš¡ 12ì¼ì°¨: ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ

### í•™ìŠµ ëª©í‘œ
- ì´ë²¤íŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜ êµ¬í˜„
- ì„±ëŠ¥ ìµœì í™” ê¸°ë²•
- ë©”ëª¨ë¦¬ ê´€ë¦¬ì™€ ë¦¬ì†ŒìŠ¤ ì •ë¦¬
- ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬

### ì•„í‚¤í…ì²˜ íŒ¨í„´

#### Event-Driven Architecture
```typescript
class MonitoringService extends EventEmitter {
  async start(): Promise<void> {
    // ê° ëª¨ë‹ˆí„° ì„œë¹„ìŠ¤ ì‹œì‘
    this.chzzkMonitor.on('live-status-change', this.handleLiveStatusChange.bind(this));
    this.cafeMonitor.on('new-post', this.handleNewPost.bind(this));
    
    // ì£¼ê¸°ì  ëª¨ë‹ˆí„°ë§ ì‹œì‘
    this.startPeriodicChecks();
  }
  
  private handleLiveStatusChange(streamerId: number, isLive: boolean): void {
    this.emit('streamer-status-updated', { streamerId, isLive });
    
    if (isLive) {
      this.notificationService.sendLiveNotification(streamerId);
    }
  }
}
```

#### ì„±ëŠ¥ ìµœì í™”
- **ë°°ì¹˜ ì²˜ë¦¬**: ì—¬ëŸ¬ ìš”ì²­ì„ ë¬¶ì–´ì„œ ì²˜ë¦¬
- **ìºì‹± ì „ëµ**: ìì£¼ ì‚¬ìš©ë˜ëŠ” ë°ì´í„° ìºì‹œ
- **ë ˆì´ì§€ ë¡œë”©**: í•„ìš”í•  ë•Œë§Œ ë¦¬ì†ŒìŠ¤ ë¡œë“œ

---

## âš™ï¸ 13ì¼ì°¨: ì„¤ì • ê´€ë¦¬ì™€ ìë™ ì‹œì‘

### í•™ìŠµ ëª©í‘œ
- ì„¤ì • ë°ì´í„° ì˜ì†í™”
- ì‹œìŠ¤í…œ í†µí•© (ìë™ ì‹œì‘)
- ì„¤ì • UIì™€ ë°±ì—”ë“œ ë™ê¸°í™”
- ì„¤ì • ê²€ì¦ê³¼ ê¸°ë³¸ê°’ ì²˜ë¦¬

### SettingsService.ts ë¶„ì„
```typescript
class SettingsService {
  private settings: Map<string, any> = new Map();
  
  async getSetting<T>(key: string, defaultValue?: T): Promise<T> {
    if (!this.settings.has(key)) {
      const value = await this.loadFromDatabase(key);
      this.settings.set(key, value ?? defaultValue);
    }
    
    return this.settings.get(key);
  }
  
  async updateSetting(key: string, value: any): Promise<void> {
    // ê²€ì¦ ë¡œì§
    this.validateSetting(key, value);
    
    // ë©”ëª¨ë¦¬ ì—…ë°ì´íŠ¸
    this.settings.set(key, value);
    
    // ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥
    await this.saveToDatabase(key, value);
    
    // ì‹œìŠ¤í…œ í†µí•© (ìë™ ì‹œì‘ ë“±)
    if (key === 'autoStart') {
      this.updateAutoStart(value);
    }
  }
}
```

---

## ğŸ” 14ì¼ì°¨: ì—ëŸ¬ ì²˜ë¦¬ì™€ ë¡œê¹…

### í•™ìŠµ ëª©í‘œ
- Winstonì„ í™œìš©í•œ êµ¬ì¡°í™”ëœ ë¡œê¹…
- ì „ì—­ ì—ëŸ¬ ì²˜ë¦¬ ë©”ì»¤ë‹ˆì¦˜
- ì—ëŸ¬ ì¶”ì ê³¼ ë””ë²„ê¹… ì „ëµ
- í”„ë¡œë•ì…˜ í™˜ê²½ ëª¨ë‹ˆí„°ë§

### ë¡œê¹… ì „ëµ
```typescript
import winston from 'winston';

const logger = winston.createLogger({
  level: 'info',
  format: winston.format.combine(
    winston.format.timestamp(),
    winston.format.errors({ stack: true }),
    winston.format.json()
  ),
  transports: [
    new winston.transports.File({ filename: 'error.log', level: 'error' }),
    new winston.transports.File({ filename: 'combined.log' })
  ]
});

// ì‚¬ìš© ì˜ˆì‹œ
class MonitoringService {
  async checkStreamer(streamerId: number): Promise<void> {
    try {
      logger.info('Starting streamer check', { streamerId });
      
      const result = await this.performCheck(streamerId);
      
      logger.info('Streamer check completed', { 
        streamerId, 
        result,
        duration: performance.now() - startTime
      });
      
    } catch (error) {
      logger.error('Streamer check failed', {
        streamerId,
        error: error.message,
        stack: error.stack
      });
      
      throw error; // ìƒìœ„ë¡œ ì—ëŸ¬ ì „íŒŒ
    }
  }
}
```

### ì—ëŸ¬ ì²˜ë¦¬ íŒ¨í„´
- **ì „ì—­ ì—ëŸ¬ í•¸ë“¤ëŸ¬**: ì˜ˆìƒì¹˜ ëª»í•œ ì—ëŸ¬ í¬ì°©
- **ë„ë©”ì¸ë³„ ì—ëŸ¬**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì—ëŸ¬ ë¶„ë¥˜
- **ì‚¬ìš©ì ì¹œí™”ì  ë©”ì‹œì§€**: ê¸°ìˆ ì  ì—ëŸ¬ë¥¼ ì‚¬ìš©ì ë©”ì‹œì§€ë¡œ ë³€í™˜

---

## ğŸ“¦ 15ì¼ì°¨: íŒ¨í‚¤ì§•ê³¼ ë°°í¬

### í•™ìŠµ ëª©í‘œ
- Electron Builder ì„¤ì •ê³¼ ìµœì í™”
- ë©€í‹° í”Œë«í¼ ë¹Œë“œ
- ìë™ ì—…ë°ì´íŠ¸ ì‹œìŠ¤í…œ
- ì„±ëŠ¥ ìµœì í™”ì™€ ë²ˆë“¤ í¬ê¸° ì¤„ì´ê¸°

### ë°°í¬ ì„¤ì • ë¶„ì„
```json
// package.jsonì˜ build ì„¤ì •
{
  "build": {
    "appId": "com.streameralarm.app",
    "productName": "Streamer Alarm System",
    "directories": {
      "output": "release"
    },
    "files": [
      "dist/**/*",
      "assets/**/*"
    ],
    "asarUnpack": [
      "node_modules/better-sqlite3/**/*",
      "node_modules/playwright/**/*"
    ],
    "win": {
      "target": "nsis",
      "icon": "assets/icon.ico"
    },
    "mac": {
      "target": "dmg",
      "icon": "assets/icon.icns"
    },
    "linux": {
      "target": ["AppImage", "deb"]
    }
  }
}
```

### ìµœì í™” ê¸°ë²•
- **íŠ¸ë¦¬ ì‰ì´í‚¹**: ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì½”ë“œ ì œê±°
- **ì½”ë“œ ë¶„í• **: ì²­í¬ ë‹¨ìœ„ë¡œ ì½”ë“œ ë¶„ë¦¬
- **ì—ì…‹ ìµœì í™”**: ì´ë¯¸ì§€ ì••ì¶•, í°íŠ¸ ì„œë¸Œì…‹
- **ë²ˆë“¤ ë¶„ì„**: webpack-bundle-analyzer í™œìš©

### ìë™ ì—…ë°ì´íŠ¸
```typescript
import { autoUpdater } from 'electron-updater';

class UpdateService {
  checkForUpdates(): void {
    autoUpdater.checkForUpdatesAndNotify();
  }
  
  setupAutoUpdater(): void {
    autoUpdater.on('update-available', () => {
      // ì—…ë°ì´íŠ¸ ê°€ëŠ¥ ì•Œë¦¼
    });
    
    autoUpdater.on('update-downloaded', () => {
      // ì—…ë°ì´íŠ¸ ë‹¤ìš´ë¡œë“œ ì™„ë£Œ
      autoUpdater.quitAndInstall();
    });
  }
}
```

## ğŸ¯ ì „ì²´ ì»¤ë¦¬í˜ëŸ¼ ì™„ë£Œ í›„ ì„±ì·¨

15ì¼ê°„ì˜ í•™ìŠµì„ ì™„ë£Œí•˜ë©´:

âœ… **ì•„í‚¤í…ì²˜ ì´í•´**: Electronì˜ ë©€í‹°í”„ë¡œì„¸ìŠ¤ ì•„í‚¤í…ì²˜ ì™„ì „ ì´í•´  
âœ… **ë³´ì•ˆ êµ¬í˜„**: í”„ë¡œë•ì…˜ ìˆ˜ì¤€ì˜ ë³´ì•ˆ ê³ ë ¤ì‚¬í•­ ì ìš©  
âœ… **ì‹¤ë¬´ ìŠ¤í‚¬**: ë³µì¡í•œ ì‹¤ë¬´ í”„ë¡œì íŠ¸ êµ¬ì¡° ë¶„ì„ ë° êµ¬í˜„ ëŠ¥ë ¥  
âœ… **ìµœì í™” ê¸°ë²•**: ì„±ëŠ¥ê³¼ ì‚¬ìš©ì ê²½í—˜ì„ ê³ ë ¤í•œ ìµœì í™”  
âœ… **ë°°í¬ ê²½í—˜**: ì™„ì„±ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ íŒ¨í‚¤ì§•ê³¼ ë°°í¬

---

*ğŸš€ **ì—¬ê¸°ì„œ ëì´ ì•„ë‹™ë‹ˆë‹¤!** ì´ ì»¤ë¦¬í˜ëŸ¼ì€ ì—¬ëŸ¬ë¶„ì˜ Electron ê°œë°œ ì—¬ì •ì˜ ì‹œì‘ì ì…ë‹ˆë‹¤. ê³„ì†í•´ì„œ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê³ , ì„±ëŠ¥ì„ ê°œì„ í•˜ë©°, ì‚¬ìš©ì í”¼ë“œë°±ì„ ë°˜ì˜í•´ë³´ì„¸ìš”.*